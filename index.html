<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Riviera Build - API by jayztemplier</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header">Riviera Build - API</h1>
        <p class="header">Upload a build in a second.</p>

        <ul>
          <li class="download"><a class="buttons" href="https://github.com/jayztemplier/RivieraBuild-API/zipball/master">Download ZIP</a></li>
          <li class="download"><a class="buttons" href="https://github.com/jayztemplier/RivieraBuild-API/tarball/master">Download TAR</a></li>
          <li><a class="buttons github" href="https://github.com/jayztemplier/RivieraBuild-API">View On GitHub</a></li>
        </ul>

        <p class="header">This project is maintained by <a class="header name" href="https://github.com/jayztemplier">jayztemplier</a></p>


      </header>
      <section>
        <h3>
<a id="api-key" class="anchor" href="#api-key" aria-hidden="true"><span class="octicon octicon-link"></span></a>API Key</h3>

<p>You can get an API key by signing in, then go to Settings. You'll see the API key, if not, click on "Generate new API key" to create a new one.</p>

<h3>
<a id="upload-a-build" class="anchor" href="#upload-a-build" aria-hidden="true"><span class="octicon octicon-link"></span></a>Upload a build</h3>

<pre><code>curl "http://beta.rivierabuild.com/api/upload"
-F file=@"${TMP_FILE_PATH}"
-F availability="${AVAILABILITY}"
-F passcode="${PASSWORD}"
-F app_id="${PASSWORD}"
-F api_key="${API_KEY}"
-F commit_sha="${COMMIT_SHA}"
-F note="${NOTE}"
-F version="${VERSION}"
-F build_number="${BUILD_NUMBER}"
</code></pre>

<p>Result</p>

<pre><code>{"success":true,"file_url":"http://beta.rivierabuild.com/get/dovjek"}%
</code></pre>

<p>Params</p>

<table>
<thead>
<tr>
<th>Param</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>file</td>
<td>string</td>
<td>path to the file to upload</td>
</tr>
<tr>
<td>availability</td>
<td>string</td>
<td>for how long the build will be available?</td>
</tr>
<tr>
<td>passcode</td>
<td>string</td>
<td>Optional: password, if set, the password is required to download a build</td>
</tr>
<tr>
<td>app_id</td>
<td>integer</td>
<td>Optional: ID of the application you want to put the build in</td>
</tr>
<tr>
<td>api_key</td>
<td>string</td>
<td>Optional: User API Key to link the build to your account</td>
</tr>
<tr>
<td>note</td>
<td>string</td>
<td>Optional: You can attach notes to your build!</td>
</tr>
<tr>
<td>commit_sha</td>
<td>string</td>
<td>Optional: last commit (sha) of the build. Can be useful to know what changes are included in the build</td>
</tr>
<tr>
<td>version</td>
<td>string</td>
<td>Optional: Version of the application (ex: 1.01)</td>
</tr>
<tr>
<td>build_number</td>
<td>string</td>
<td>Optional: Build number (ex: 1.01b123)</td>
</tr>
</tbody>
</table>

<h3>
<a id="availability-options" class="anchor" href="#availability-options" aria-hidden="true"><span class="octicon octicon-link"></span></a>Availability Options</h3>

<p>Once the availability time expires, the build is delete and not accessible anymore.</p>

<table>
<thead>
<tr>
<th>Values</th>
</tr>
</thead>
<tbody>
<tr>
<td>10_minutes</td>
</tr>
<tr>
<td>1_hour</td>
</tr>
<tr>
<td>3_hours</td>
</tr>
<tr>
<td>6_hours</td>
</tr>
<tr>
<td>12_hours</td>
</tr>
<tr>
<td>24_hours</td>
</tr>
<tr>
<td>1_week</td>
</tr>
<tr>
<td>2_weeks</td>
</tr>
<tr>
<td>1_month</td>
</tr>
<tr>
<td>2_months</td>
</tr>
</tbody>
</table>

<h3>
<a id="get-latest-available-build-information" class="anchor" href="#get-latest-available-build-information" aria-hidden="true"><span class="octicon octicon-link"></span></a>Get latest available build information</h3>

<pre><code>curl "http://beta.rivierabuild.com/api/applications/:application_id/builds/latest"
</code></pre>

<p>Result</p>

<pre><code>{
  id: 59,
  build_name: "AnimalCrush.ipa",
  created_at: "2015-02-22T18:33:42.861Z",
  version: "1.0",
  build_number: "1.0",
  name: "Animal Crush",
  note: "Some note you wrote earlier",
  available_until: "2015-04-19T18:33:42.723Z",
  commit_sha: "ewfwefonwerfgoinrgerogrgojergpojergoeprgjerpogjer"
}
</code></pre>
      </section>
      <footer>
        <p><small>Hosted on <a href="http://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
		
  </body>
</html>
